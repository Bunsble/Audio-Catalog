# Документация - Организатор на личен аудио каталог

## Описание на проекта

Това е конзолно Java приложение за управление на личен аудио каталог. Приложението позволява на потребителя да управлява различни типове аудио съдържание (песни, албуми, podcast-и, аудиокниги) и да създава плейлисти. Всички данни могат да се записват и зареждат от файлове.

**Важно:** Всички имена на методи, полета и променливи в кода са на английски, но конзолният текст, който вижда потребителят, е на български.

## Структура на проекта

Проектът се състои от следните Java файлове в директорията `src/`:

1. **AudioItem.java** - Базов абстрактен клас
2. **Song.java** - Клас за песни
3. **Album.java** - Клас за музикални албуми
4. **Podcast.java** - Клас за podcast-и
5. **Audiobook.java** - Клас за аудиокниги
6. **Playlist.java** - Клас за плейлисти
7. **Catalog.java** - Клас за управление на каталога
8. **FileManager.java** - Клас за работа с файлове
9. **Main.java** - Главен клас с конзолното меню

## Подробно описание на всеки файл

### 1. AudioItem.java

**Назначение:** Базов абстрактен клас, който дефинира общите характеристики на всички аудио обекти в системата.

**Състав:**
- **Полета:**
  - `title` (String) - Заглавието на аудио обекта
  - `genre` (String) - Жанрът на обекта
  - `duration` (int) - Продължителността в секунди
  - `category` (String) - Категорията на обекта
  - `author` (String) - Авторът на обекта
  - `publicationYear` (int) - Година на публикуване

- **Методи:**
  - `getTitle()`, `setTitle(String)` - Гетър и сетър за заглавие
  - `getGenre()`, `setGenre(String)` - Гетър и сетър за жанр
  - `getDuration()`, `setDuration(int)` - Гетър и сетър за продължителност
  - `getCategory()`, `setCategory(String)` - Гетър и сетър за категория
  - `getAuthor()`, `setAuthor(String)` - Гетър и сетър за автор
  - `getPublicationYear()`, `setPublicationYear(int)` - Гетър и сетър за година
  - `getInformation()` - Абстрактен метод, който трябва да се имплементира от наследниците за връщане на информация за обекта (връща български текст)
  - `getType()` - Абстрактен метод, който връща типа на обекта (връща български текст: "Песен", "Албум", "Podcast", "Аудиокнига")

**Как работи:** Този клас служи като основа за всички конкретни типове аудио обекти. Дефинира общите атрибути, които са задължителни за всеки обект според изискванията.

---

### 2. Song.java

**Назначение:** Клас за представяне на песен, наследява `AudioItem`.

**Състав:**
- **Полета:**
  - Всички полета от `AudioItem`
  - `artist` (String) - Изпълнителът на песента

- **Методи:**
  - Конструктор: `Song(String title, String genre, int duration, String category, String author, int publicationYear, String artist)`
  - `getArtist()`, `setArtist(String)` - Гетър и сетър за изпълнител
  - `getInformation()` - Връща форматирана информация за песента (на български)
  - `getType()` - Връща "Песен"

**Как работи:** При създаване на обект от тип `Song`, се задават всички задължителни атрибути плюс изпълнителя. Методът `getInformation()` форматира всички данни в четим вид на български.

---

### 3. Album.java

**Назначение:** Клас за представяне на музикален албум, наследява `AudioItem`.

**Състав:**
- **Полета:**
  - Всички полета от `AudioItem`
  - `songs` (List<Song>) - Списък с песните в албума

- **Методи:**
  - Конструктор: `Album(String title, String genre, int duration, String category, String author, int publicationYear)`
  - `getSongs()` - Връща списъка с песни
  - `addSong(Song song)` - Добавя песен към албума
  - `getInformation()` - Връща информация за албума, включително броя песни (на български)
  - `getType()` - Връща "Албум"

**Как работи:** Албумът може да съдържа множество песни. При показване на информация се извежда и броят на песните в албума.

---

### 4. Podcast.java

**Назначение:** Клас за представяне на podcast, наследява `AudioItem`.

**Състав:**
- **Полета:**
  - Всички полета от `AudioItem`
  - `host` (String) - Водещият на podcast-а

- **Методи:**
  - Конструктор: `Podcast(String title, String genre, int duration, String category, String author, int publicationYear, String host)`
  - `getHost()`, `setHost(String)` - Гетър и сетър за водещ
  - `getInformation()` - Връща информация за podcast-а (на български)
  - `getType()` - Връща "Podcast"

**Как работи:** Подобно на `Song`, но с допълнително поле за водещ вместо изпълнител.

---

### 5. Audiobook.java

**Назначение:** Клас за представяне на аудиокнига, наследява `AudioItem`.

**Състав:**
- **Полета:**
  - Всички полета от `AudioItem`
  - `narrator` (String) - Разказвачът на аудиокнигата

- **Методи:**
  - Конструктор: `Audiobook(String title, String genre, int duration, String category, String author, int publicationYear, String narrator)`
  - `getNarrator()`, `setNarrator(String)` - Гетър и сетър за разказвач
  - `getInformation()` - Връща информация за аудиокнигата (на български)
  - `getType()` - Връща "Аудиокнига"

**Как работи:** Структурата е аналогична на `Song` и `Podcast`, но с поле за разказвач.

---

### 6. Playlist.java

**Назначение:** Клас за представяне на плейлист, който съдържа списък от аудио обекти.

**Състав:**
- **Полета:**
  - `name` (String) - Името на плейлиста
  - `items` (List<AudioItem>) - Списък с аудио обектите в плейлиста

- **Методи:**
  - Конструктор: `Playlist(String name)`
  - `getName()`, `setName(String)` - Гетър и сетър за име
  - `getItems()` - Връща списъка с обекти
  - `addItem(AudioItem item)` - Добавя обект към плейлиста
  - `removeItem(AudioItem item)` - Премахва обект от плейлиста
  - `removeItemByIndex(int index)` - Премахва обект по индекс
  - `getInformation()` - Връща пълна информация за плейлиста (на български)
  - `getTotalDuration()` - Изчислява общата продължителност на всички обекти

**Как работи:** Плейлистът е контейнер за аудио обекти. Поддържа добавяне и премахване на обекти, както и извличане на информация за съдържанието.

---

### 7. Catalog.java

**Назначение:** Централен клас за управление на всички аудио обекти и плейлисти в каталога.

**Състав:**
- **Полета:**
  - `items` (List<AudioItem>) - Списък с всички аудио обекти
  - `playlists` (List<Playlist>) - Списък с всички плейлисти

- **Методи за управление на обекти:**
  - `addItem(AudioItem item)` - Добавя обект към каталога
  - `deleteItem(AudioItem item)` - Изтрива обект и го премахва от всички плейлисти
  - `deleteItemByIndex(int index)` - Изтрива обект по индекс
  - `getItemByIndex(int index)` - Връща обект по индекс

- **Методи за търсене:**
  - `searchByTitle(String title)` - Търси обекти по заглавие (частично съвпадение, case-insensitive)
  - `searchByAuthor(String author)` - Търси обекти по автор (частично съвпадение, case-insensitive)
  - `searchByGenre(String genre)` - Търси обекти по жанр (частично съвпадение, case-insensitive)
  - `searchByArtist(String artist)` - Търси песни по изпълнител (частично съвпадение, case-insensitive)

- **Методи за филтриране:**
  - `filterByGenre(String genre)` - Филтрира обекти по точно съвпадение на жанр (case-insensitive)
  - `filterByAuthor(String author)` - Филтрира обекти по точно съвпадение на автор (case-insensitive)
  - `filterByYear(int year)` - Филтрира обекти по година

- **Методи за сортиране:**
  - `sortByTitle()` - Сортира обектите по заглавие (азбучно, case-insensitive)
  - `sortByAuthor()` - Сортира обектите по автор (азбучно, case-insensitive)
  - `sortByYear()` - Сортира обектите по година (възходящо)

- **Методи за управление на плейлисти:**
  - `createPlaylist(String name)` - Създава нов плейлист
  - `findPlaylist(String name)` - Намира плейлист по име (case-insensitive)
  - `deletePlaylist(String name)` - Изтрива плейлист

- **Гетъри:**
  - `getItems()` - Връща списъка с обекти
  - `getPlaylists()` - Връща списъка с плейлисти

**Как работи:** Този клас е сърцето на приложението. Управлява всички данни и предоставя методи за търсене, филтриране и сортиране. Използва обикновени for цикли за обработка на данни, което прави кода по-лесен за разбиране.

---

### 8. FileManager.java

**Назначение:** Клас за запис и четене на каталога и плейлистите във файлове. Използва текстов формат с разделител "|".

**Формат на файловете:**
- **Каталог файл (`каталог.txt`):** Всеки ред представлява един обект във формат:
  ```
  TYPE|заглавие|жанр|продължителност|категория|автор|година|допълнително
  ```
  където допълнителното поле е изпълнител за песни, водещ за podcast-и, разказвач за аудиокниги, или "-" за албуми.

- **Плейлист файл (`плейлисти/име.txt`):** Първият ред е името на плейлиста, следващите редове са индексите на обектите в каталога.

**Състав:**
- **Константи:**
  - `CATALOG_FILE` - Име на файла за каталога ("каталог.txt")
  - `PLAYLISTS_DIR` - Директория за плейлистите ("плейлисти/")
  - `DELIMITER` - Разделител между полетата ("|")

- **Методи:**
  - `saveCatalog(Catalog catalog)` - Записва всички обекти от каталога във файл
  - `loadCatalog(Catalog catalog)` - Зарежда обекти от файл в каталога
  - `savePlaylist(Playlist playlist, Catalog catalog)` - Записва плейлист във файл
  - `loadPlaylist(String name, Catalog catalog)` - Зарежда плейлист от файл

**Как работи:** При запис на каталог, всеки обект се записва на отделен ред с разделител "|". При зареждане, файлът се чете ред по ред и се създават съответните обекти. За плейлистите се записват само индексите на обектите в каталога, за да се избегне дублиране на данни.

---

### 9. Main.java

**Назначение:** Главен клас на приложението, който предоставя конзолно меню за взаимодействие с потребителя.

**Състав:**
- **Полета:**
  - `catalog` (Catalog) - Единствената инстанция на каталога
  - `scanner` (Scanner) - За четене на вход от потребителя

- **Методи:**
  - `main(String[] args)` - Главен метод, стартира приложението, зарежда каталога и показва менюто
  - `showMenu()` - Показва главното меню с опции (на български)
  - `readChoice()` - Чете избор от потребителя
  - `addItem()` - Обработва добавяне на нов обект
  - `deleteItem()` - Обработва изтриване на обект
  - `search()` - Обработва търсене на обекти
  - `createPlaylist()` - Обработва създаване на плейлист
  - `managePlaylist()` - Обработва операции с плейлисти (добавяне/премахване на обекти, запис)
  - `showInformation()` - Показва информация за обект или плейлист
  - `filter()` - Обработва филтриране на обекти
  - `sort()` - Обработва сортиране на обекти
  - `saveCatalog()` - Записва каталога във файл
  - `loadPlaylist()` - Зарежда плейлист от файл
  - `showAllItems()` - Показва всички обекти в каталога
  - `showAllPlaylists()` - Показва всички плейлисти

**Как работи:** При стартиране на приложението се зарежда каталогът от файл (ако съществува). След това се показва меню с опции на български. Потребителят избира опция и се изпълнява съответната функционалност. Цикълът продължава, докато потребителят не избере опция за изход.

**Меню опции:**
1. Добави нов обект - Добавя песен, албум, podcast или аудиокнига
2. Изтрий обект - Премахва обект от каталога
3. Търсене на обект - Търси по заглавие, автор, жанр или изпълнител
4. Създай playlist - Създава нов плейлист
5. Управление на playlist - Добавя/премахва обекти от плейлист или записва плейлист
6. Покажи информация - Показва информация за обект или плейлист
7. Филтрирай обекти - Филтрира по жанр, автор или година
8. Сортирай обекти - Сортира по заглавие, автор или година
9. Запиши каталог във файл - Запазва каталога
10. Зареди playlist от файл - Зарежда плейлист от файл
0. Изход - Затваря приложението

---

## Функционалности

Приложението имплементира всички изисквани функционалности:

✅ **Добавяне на нов обект** - Поддържа песни, албуми, podcast-и и аудиокниги

✅ **Изтриване на обект** - Премахва обект от каталога и от всички плейлисти

✅ **Търсене на обект** - По заглавие, изпълнител, жанр, автор

✅ **Създаване на playlist** - Създава нов плейлист с име

✅ **Добавяне и триене на обекти от playlist** - Пълно управление на съдържанието на плейлистите

✅ **Връщане на информация** - За playlist, песен, албум и т.н.

✅ **Филтрация на обекти** - По жанр, автор, година

✅ **Сортиране на обекти** - По азбучен ред (заглавие, автор) или по година

✅ **Записване и четене на каталога** - Всички обекти се записват/зареждат от файл

✅ **Записване и четене на плейлисти** - Отделни файлове за всеки плейлист

---

## Използване на приложението

### Компилиране:
```bash
javac src/*.java
```

### Стартиране:
```bash
java -cp src Main
```

### Работа с приложението:
1. При стартиране приложението автоматично зарежда каталога от файл `каталог.txt` (ако съществува)
2. Изберете опция от менюто, като въведете съответния номер
3. Следвайте инструкциите на екрана (всички са на български)
4. При изход, не забравяйте да запишете каталога (опция 9), за да се запазят промените

### Файлове:
- `каталог.txt` - Съдържа всички обекти от каталога
- `плейлисти/` - Директория с файлове за всеки плейлист (име.txt)

---

## Технически детайли

- **Език:** Java
- **Версия:** Съвместима с Java 8+
- **Външни библиотеки:** Няма (използва само стандартни Java библиотеки)
- **Формат на файловете:** Текстов формат с разделител "|"
- **Кодиране:** UTF-8
- **Именуване:** Всички методи, полета и променливи в кода са на английски; конзолният текст е на български

---

## Структура на директориите

```
PNPE PROEKT/
├── src/
│   ├── AudioItem.java
│   ├── Song.java
│   ├── Album.java
│   ├── Podcast.java
│   ├── Audiobook.java
│   ├── Playlist.java
│   ├── Catalog.java
│   ├── FileManager.java
│   └── Main.java
├── каталог.txt (създава се автоматично)
├── плейлисти/ (създава се автоматично)
│   └── [име].txt
├── zadanie
├── Task.pptx
├── README.md
└── ДОКУМЕНТАЦИЯ.md
```

---